export CUDA_VISIBLE_DEVICES=$1
conda activate slotlifter
dataset=dtu
ids=(1)
# ids=(6 7)
# ids=(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16)
for scene in ${ids[@]};do
    python trainer/train_panopli_tensorf.py \
        cfg=${dataset} \
        cfg.job_type='test' \
        cfg.exp_name=vis_${scene} \
        cfg.test_percent=1.0 \
        cfg.num_workers=16 \
        cfg.precision=32 \
        cfg.num_slots=8 \
        cfg.enc_type='ibrnet' \
        cfg.num_src_view=4 \
        cfg.ckpt_path=/home/yuliu/Projects/OR3D/runs/dtu/f32_8s_64+64_01282054/checkpoints/best.ckpt \
        # cfg.scene_id=${scene} \
        
done
    # cfg.n_samples=96 \
    # cfg.logger=wandb \
    # cfg.coarse_to_fine=true \
    # cfg.resume='/home/yuliu/Projects/OR3D/runs/dtu/test_01271617/checkpoints/last.ckpt' \
    # cfg.seed=0 \
    # cfg.random_proj=false \
    # cfg.coarse_to_fine=true \
    # cfg.n_samples=32 \
    # cfg.n_samples_fine=64 \
    # cfg.random_proj_ratio=0 \
    # cfg.slot_density=false \
    # cfg.random_proj=false \
    # cfg.norm_scene=false \
    # cfg.distance_scale=1. \
    # cfg.lambda_depth=0 \
    # cfg.lambda_geo=0.1 \
    # cfg.n_samples=32 \
    # cfg.n_samples_fine=64 \
    # cfg.implicit_render=true \
    # cfg.lambda_depth=0.1 \
    # cfg.normalize=false \
    # cfg.random_proj=false \
    # cfg.rel_pos=true \
    # cfg.rel_pos=true \
    # cfg.feature_size=32 \
    # cfg.normalize=false \
    # cfg.n_samples=64 \
    # cfg.coarse_to_fine=false \
    # cfg.pe_feat=2 \
    # cfg.distance_scale=25 \
    # cfg.train_dataset='llff+ibrnet_collected' \
    # cfg.lambda_depth=0.5 \
    # cfg.sigma_steps=30000 \
    # cfg.resume='/home/yuliu/Projects/OR3D/runs/scannet/8s_512_3090_09042226/checkpoints/last.ckpt' \
    # cfg.lambda_corr=0.2 \
    # cfg.lambda_feat=0 \
    # cfg.recon_feat=true \
    # cfg.random_proj=false \
    # cfg.force_bg=false \
    # cfg.lambda_feat=0 \
    # cfg.recon_feat=true \
    # cfg.lambda_corr=0.02 \
    # cfg.n_samples=32 \
    # cfg.n_samples_fine=64 \
    # cfg.slot_dec_dim=128 \
    # cfg.chunk=4096 \
    # cfg.num_src_view=4 \
    # cfg.num_slots=8 \
    # cfg.bg_border=0.2 \
    # cfg.slot_dec_dim=32 \
    # cfg.nerf_mlp_dim=32 \
    # cfg.num_src_view=10 \
    # cfg.chunk=4096 \
    # cfg.feature_size=64 \
    # cfg.recon_feat=false \
    # cfg.lambda_depth=0 \
    # cfg.num_slots=8 \
    # cfg.recon_feat=true \
    # cfg.render_src_view=false \
    # cfg.num_src_view=4 \
    # cfg.random_proj=false \
    # cfg.chunk=16384 \
    